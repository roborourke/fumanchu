(function(b){b.fn.fumanchu=function(a,c,e,h){var g=this;b.fn.fumanchu.context=c||{};b.fn.fumanchu.fallback=e||c;b.fn.fumanchu.args=h||{};if("undefined"===b.type(a))return"";"function"===b.type(a)&&(a=a.apply(g,[b.fn.fumanchu.context,b.fn.fumanchu.fallback,b.fn.fumanchu.args]));if("object"===b.type(a))if(a.template)b.fn.fumanchu.context=a,a=a.template;else try{a=a.html()}catch(j){}return a.toString().replace(/(?:__|{{)([a-z0-9\.]+)(?:}}|__)/gi,function(a,c){var d=b.fn.fumanchu.getpath(c,b.fn.fumanchu.context,
b.fn.fumanchu.fallback),f="",e=b.fn.fumanchu.templates[c]||b('[data-template="'+c+'"]').html();!b.fn.fumanchu.templates[c]&&e&&(b.fn.fumanchu.templates[c]=e);"array"===b.type(d)?b.each(d,function(a,c){"object"===b.type(c)&&(!c.template&&e&&(c.template=e),b.fn.fumanchu.context=c);f+=g.fumanchu(c,b.fn.fumanchu.context,b.fn.fumanchu.fallback,{list:d,index:a})}):"object"===b.type(d)&&d.template?f=g.fumanchu(d.template,d,b.fn.fumanchu.fallback,h):"function"===b.type(d)?f=d.apply(g,[b.fn.fumanchu.context,
b.fn.fumanchu.fallback,h]):"boolean"===b.type(d)?f=d?"1":"0":"number"===b.type(d)?f=b.fn.fumanchu.numberformat(d,b.fn.fumanchu.fallback):"string"===b.type(d)&&(f=d);return g.fumanchu(f,b.fn.fumanchu.context,b.fn.fumanchu.fallback,b.fn.fumanchu.args)})};b.fn.fumanchu.getpath=function(a,c,e){a=a.split(".");return 4==a.length&&c&&c[a[0]]&&c[a[0]][a[1]]&&c[a[0]][a[1]][a[2]]&&c[a[0]][a[1]][a[2]][a[3]]?c[a[0]][a[1]][a[2]][a[3]]:3==a.length&&c&&c[a[0]]&&c[a[0]][a[1]]&&c[a[0]][a[1]][a[2]]?c[a[0]][a[1]][a[2]]:
2==a.length&&c&&c[a[0]]&&c[a[0]][a[1]]?c[a[0]][a[1]]:1==a.length&&c&&c[a[0]]?c[a[0]]:e&&c!==e?b.fn.fumanchu.getpath(a.join("."),e):""};b.fn.fumanchu.templates={};b.fn.fumanchu.numberformat=function(a){return a};b(document).ready(function(){b("[data-template]").each(function(){b.fn.fumanchu.templates[b(this).data("template")]=b(this).html()})})})(jQuery);
//# sourceMappingURL=fumanchu.min.js.map
